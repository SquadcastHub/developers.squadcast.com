<!doctype html>

<meta charset="utf-8">
<title>setIntervalVisible Â· Adam Schwartz</title>
<meta name="viewport" content="initial-scale=1, width=device-width">

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    font-family: system-ui, sans-serif;
    display: flex;
    height: 100%;
    width: 100%;
    padding: 2em 0 4em;
    align-items: center;
    justify-content: center;
  }

  div {
    font-size: 8vw;
    text-align: center;
  }
</style>

<div>
  <span id="intervalOutput"></span>
  <br>
  <span id="visibleIntervalOutput"></span>
</div>

<script type="module">
  import setIntervalVisible from "./index.js"

  let intervals = 0
  const interval = setInterval(() => {
    intervalOutput.textContent = `Intervals: ${ intervals += 1 }`
  }, 1000)

  let visibleIntervals = 0
  const visibleInterval = setIntervalVisible(() => {
    visibleIntervalOutput.textContent = `Visible intervals: ${ visibleIntervals += 1 }`
  }, 1000)

  document.addEventListener('dblclick', () => {
    visibleInterval.clear()
    clearInterval(interval)
  })
</script>
